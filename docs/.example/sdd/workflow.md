# ワークフロー

## Preparation(準備)

- 新規、または既存プロジェクトからブランチを切る
- ローカル起動できるようセットアップ
- 必要なパッケージインストール確認

## ExistingProject(既存プロジェクトの場合)

- 既存データ(コンポーネント、ページ、関連ファイル)をバックアップ
  - バックアップ先: /src/.old/{日付}/ または /docs/ui/.old/{バージョン}/
- 既存データから既存システムの仕様書を作成
  - AIに既存コードを読ませて specification.md を生成
- 既存データからテストファイルを作成
  - 既存の動作を保証するテストを生成

## CreateSpecification(仕様書作成)

- /docsの中に仕様書に沿ったディレクトリ構造を作る
  - directory-example.md を参照
- 仕様書と画像などを入れる
  - specification-example.md を参照
  - 記述ルール遵守: 簡潔、具体的、実用的

## AIExecution-Cleanup(AI実行: クリーンアップ)

- 既存データがあれば削除する
- 削除するのは今行ってる改修に関連するもののみ
- 必ずユーザーに確認する
  - 削除対象のファイルリストを提示
  - バックアップ済みであることを確認

## AIExecution-Implementation(AI実行: 実装生成)

- ディレクトリを作り、テストコードを作らせる
  - 仕様書から必要なテストケースを抽出
- 仕様とテストコードから、コードを作成させる
  - テスト駆動で実装
- フロントのui-kitであれば全画面のハリボテページを作らせる
  - /showcase/ui-kit/{component-name} に配置
- ui-featuresの挙動がわかるモック付きのハリボテも作る
  - /showcase/ui-features/{feature-name} に配置

## AIExecution-Validation(AI実行: 検証)

- テストコードを走らせ、実装チェックをする
  - 全テスト通過が必須
- バックアップにある仕様やテストコードから、新しい実装が不足なく正しく作られているか確認する
  - 既存機能の後退がないことを確認
- ブラウザで動作チェックする
  - localhost でハリボテページを確認
  - 各状態(hover, active, disabled等)の動作確認